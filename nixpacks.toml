# Nixpacks configuration for Railway deployment
# This ensures Railway runs the Express server, not serverless functions

[phases.setup]
nixPkgs = ["nodejs_22"]

[phases.install]
cmds = [
  "cd Server && npm install"
]

[start]
cmd = "cd Server && node index.js"

[variables]
# Ensure Railway doesn't try to use serverless mode
NIXPACKS_NO_MUSL = "1"
